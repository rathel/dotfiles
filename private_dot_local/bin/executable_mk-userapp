#!/usr/bin/env bash
set -euo pipefail

exec_cmd="$1"
app_name="$2"
local_app_dir="$HOME/.local/share/applications"
rand_suffix="$(mktemp -u XXXXXX)"

desktop_file="${local_app_dir}/userapp-${app_name}-${rand_suffix}.desktop"

printf '[Desktop Entry]\nType=Application\nExec=%s\nName=%s\n' "$exec_cmd" "$app_name" > "$desktop_file"